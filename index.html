<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="keywords" lang="de" content="Zeitleiste, Zeitlinie, Zeitkarte, Geschichte, Chronologie">
    <meta name="keywords" lang="en" content="Timeline, Timemap, History, Chronology">
    <title>Chronsemble</title>

    <!-- That's my local d3 path. When working locally, use your local path. -->
    <!-- <script src="/d3.v3.min.js"></script> -->
    <!--<script src="lib/d3.v3.min.js"></script>-->
    <script src="node_modules/d3/d3.min.js"></script>
    <!-- <script src="../../../lib/d3/d3.v3.js"></script> -->

    <!-- That's the 'official' path. Comment out, when working locally. -->
    <!--<script src="http://d3js.org/d3.v3.min.js"></script>-->

    <!-- Store these two files in your application directory or on your path. -->
    <script src="scripts/globals.js"></script>
    <script src="scripts/timeline.js"></script>
    <script src="scripts/infoFlow.js"></script>
    <script src="scripts/spatioFlow.js"></script>

    <script src="node_modules/d3/node_modules/d3-geo-projection/d3.geo.projection.min.js"></script>
    <script src="node_modules/d3/node_modules/d3-geomap/src/js/utils.js"></script>
    <script src="node_modules/d3/node_modules/d3-geomap/src/js/colorbrewer.js"></script>
    <script src="node_modules/d3/node_modules/topojson/build/topojson.min.js"></script>
    <script src="node_modules/d3/node_modules/d3-geomap/src/js/geomap.js"></script>
    <script src="node_modules/d3/node_modules/d3-geomap/src/js/choropleth.js"></script>

    <!--<script src="d3-geomap/vendor/d3.geomap.dependencies.min.js"></script-->
    <!--<script src="d3-geomap/js/d3.geomap.min.js"></script>-->

    <!--<link href="d3-geomap/css/d3.geomap.css" rel="stylesheet" type="text/css" />-->
    <link href="node_modules/d3/node_modules/d3-geomap/src/sass/geomap.css" rel="stylesheet" type="text/css" />
    <link href="styles/timeline.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div class="infoFlow"></div>
<div id="timeline"></div>
<div class="spatioFlow"></div>
<script>

    // Define domElement and sourceFile
    var domTimeline = "#timeline";
    var domInfoFlow = ".infoFlow";
    var domSpatioFlow = ".spatioFlow";
    //*var sourceFile = "data/philosophers.csv";
    //var sourceFile = "philosophers.json";
    //var sourceFile = "philosophers2.json";
    //var sourceFile = "philosophers3.json";
    var sourceFile = "data/Intra-StateWarData_v4.1.3.csv";
    //var sourceFile = "data/Inter-StateWarData_v4.0.1.csv";

    // Read in the data and construct the timeline
    d3.csv(sourceFile, function(dataset) {
    //d3.json(sourceFile, function(dataset) {

    //    infoFlow(domInfoFlow);
        spatioFlow(domSpatioFlow);

        timeline(domTimeline, domSpatioFlow, domInfoFlow)
            .data(dataset)
            .defineInfoflowPane( )
            .defineInfoflowArea( )
            .defineTimelinePane( )
            .defineTimeflowArea( )
            .band("timeFlow", false)
            .mainReference("timeFlow")
            .xAxis("timeFlow")
            .tooltips("timeFlow")
            .defineBirdViewArea( )
            .band("birdView", true)
            .xAxis("birdView")
            .labels("timeFlow")
            .labels("birdView")
            .brush("birdView", ["timeFlow", "infoFlow"])
            .band("infoFlow", false)
            .vScroll( )
//            .defineVerticalScrollArea( )
            .redraw();

    });

// d3.select(".infoFlow").append("p").html("testing");
</script>

</body>

</html>
